## 一、项目目标与范围

### 1. 核心目标

在 1 个月内完成《番茄魔方》基础功能开发，推出测试版，实现 “专注计时 + 任务管理” 核心流程闭环，验证产品核心价值。

### 2. 测试版功能范围（优先级 P0/P1）

| 模块      | 核心功能（P0）                 | 次要功能（P1）      | 暂不开发（P2+）       |
| ------- | ------------------------ | ------------- | --------------- |
| 登录模块    | 微信快捷登录、用户信息获取            | -             | 手机号登录、第三方账号绑定   |
| 专注模块    | 单人专注计时（5-60min）、时长计算与存储  | 基础白噪音（雨声、咖啡馆） | 组队专注、横屏看板、排行榜   |
| 任务模块    | 打卡任务、倒计时任务（创建 / 编辑 / 删除） | 纪念日任务、任务排序    | 任务拖拽、日历视图       |
| 统计模块    | 日 / 周专注时长统计（列表展示）        | 简单柱状图         | AI 分析、周报 / 月报生成 |
| “我的” 模块 | 个人信息展示、VIP 开通入口          | 通知开关设置        | 激活码兑换、意见反馈      |
| 通知模块    | 专注中断公众号提醒                | 任务到期提醒        | 自定义推送时间         |

## 二、团队分工

| 角色    | 核心职责                                     |
| ----- | ---------------------------------------- |
| 主程/测试 | 需求文档编写、技术架构设计、数据库建模、前后端协调、核心功能开发（组队逻辑预留） |
| 前端1   | 专注模块（计时页、时长选择器）、白噪音功能                    |
| 前端2   | 任务模块（任务卡片、创建 / 编辑页）、“我的” 模块、页面跳转逻辑       |
| 后端1   | 用户模块（登录、信息管理）、专注数据接口（存储、查询）、公众号通知对接      |
| 后端2   | 任务模块接口（CRUD）、统计模块接口（基础数据聚合）、数据库优化        |

## 三、开发里程碑与时间规划（共 4 周）

### 第 1 周：需求分析与技术准备（Day1-Day7）

- **Day1-Day2**：需求细化与原型确认
    - 输出《测试版功能清单》《交互原型》（主程负责）
    - 团队评审，确认功能边界（如专注中断判定规则）
- **Day3-Day5**：技术设计与环境搭建
    - 后端：SpringBoot 项目初始化、数据库表设计（参照用户提供的表结构优化）、接口文档（Swagger）
    - 前端：微信小程序项目搭建、组件库选型（自定义新拟态组件）、页面路由规划
    - 基础设施：阿里云服务器部署、MySQL 数据库搭建、微信公众号 / 小程序开发者账号配置
- **Day6-Day7**：开发计划拆解
    - 前后端接口对接清单确认（如专注开始接口：`POST /focus/start`）
    - 制定每日开发任务，录入协作工具（如 Jira/Trello）

### 第 2 周：核心功能开发（Day8-Day14）

- **后端重点任务**：
    - Day8-Day10：用户登录接口（微信 OpenID 获取）、专注数据 CRUD 接口（含时长计算逻辑）
    - Day11-Day14：任务模块基础接口（打卡 / 倒计时任务的创建、编辑、删除）
- **前端重点任务**：
    - Day8-Day10：登录页、首页（专注时长选择器）、专注计时页开发
    - Day11-Day14：任务列表页、任务创建 / 编辑页开发
- **每日同步**：19:00-19:30 站会，同步进度、解决阻塞问题（如接口字段不一致）
    

### 第 3 周：功能集成与次要功能开发（Day15-Day21）

- **核心集成**：
    - Day15-Day16：前后端接口联调（优先保证专注计时、任务创建流程通畅）
    - Day17-Day18：公众号通知对接（专注中断提醒功能）
- **次要功能开发**：
    - 后端：统计模块基础接口（按日 / 周查询专注时长）
    - 前端：“我的” 模块页面、基础白噪音播放功能
- **测试介入**：
    - 主程编写《测试用例》（覆盖核心流程：登录→设置专注→完成专注→查看统计）
    - 团队交叉测试，记录 bug（使用飞书文档汇总）

### 第 4 周：Bug 修复与上线准备（Day22-Day30）

- **Day22-Day25**：Bug 修复与优化
    - 优先修复阻塞性 bug（如专注时长计算错误、任务无法保存）
    - 优化用户体验（如按钮点击反馈、页面加载速度）
- **Day26-Day28**：上线前准备
    - 后端：数据库备份策略配置、服务器性能压测（模拟 1000 用户并发）
    - 前端：小程序审核资料准备（截图、功能说明）
    - 主程：编写《用户操作手册》《上线 Checklist》
- **Day29-Day30**：灰度上线与监控
    - 提交小程序审核，通过后灰度发布（限制 500 用户）
    - 监控服务器日志、用户反馈，快速响应线上问题

## 四、技术规范与协作机制

### 1. 技术规范

- **代码规范**：
    - 前端：遵循微信小程序开发规范，组件命名采用`xx-component`格式，CSS 使用 Tailwind 统一样式
    - 后端：采用 RESTful API 设计，接口路径格式`/api/v1/模块/功能`（如`/api/v1/focus/start`），注释覆盖率≥70%
- **数据库规范**：
    - 表名小写 + 下划线（如`focus_data`），字段名同表名规则
    - 所有外键添加约束，核心表（`user_info`、`focus_data`）添加索引
- **版本控制**：
    - 使用 Git 管理代码，主分支`main`，开发分支`dev`，功能分支`feature/模块名`
    - 提交信息格式：`[模块] 操作内容`（如`[专注模块] 修复计时暂停bug`）

## 五、风险与应对措施

|风险类型|可能场景|应对措施|
|---|---|---|
|进度风险|前端页面开发延迟，影响联调进度|优先开发核心页面（专注计时页、任务列表页），次要页面后期迭代|
|技术风险|公众号通知接口调试不通过|提前申请测试号调试，预留 2 天缓冲时间|
|资源风险|白噪音素材版权问题|初期使用免费素材库（如 Freesound），标注 “测试版资源”|
|质量风险|上线后出现数据计算错误|部署前全量数据测试，上线后开启数据库每日备份|

## 六、测试版上线后迭代计划

1. **第 5 周**：收集用户反馈（通过小程序内问卷），确定 P2 功能优先级
2. **第 6-8 周**：开发组队专注、排行榜功能，优化统计模块图表展示
3. **第 9-10 周**：上线 VIP 付费功能（月卡 / 季卡），开启小规模推广