___
## 1. 引言

### 1.1 目的

本文档旨在为《番茄魔方》WPF版本的测试工作提供指导，确保软件功能符合需求说明书的要求，保证软件质量。

### 1.2 适用范围

适用于《番茄魔方》WPF版本的功能测试、性能测试和用户体验测试。

## 2. 测试环境

### 2.1 硬件环境

- 操作系统：Windows 10/11
- 处理器：Intel Core i5及以上
- 内存：8GB及以上
- 存储：SSD，至少100MB可用空间

### 2.2 软件环境（已包含在软件安装包内，无需手动配置）

- .NET Framework 4.8或.NET Core 3.1及以上
- SQLite数据库

## 3. 测试内容

### 3.1 功能测试

#### 3.1.1 界面布局测试

| 测试项     | 测试步骤       | 预期结果                     | 实际结果   | 备注  |
| ------- | ---------- | ------------------------ | ------ | --- |
| 导航栏功能   | 点击导航栏的各个按钮 | 右侧内容区显示对应页面内容，响应时间<300ms | 符合预期效果 |     |
| 页面切换流畅性 | 快速切换不同页面   | 页面切换流畅，无卡顿或延迟            | 符合预期效果 |     |

#### 3.1.2 番茄钟模块测试

| 测试项   | 测试步骤      | 预期结果                           | 实际结果   | 备注  |
| ----- | --------- | ------------------------------ | ------ | --- |
| 标准模式  | 启动番茄钟标准模式 | 25分钟倒计时开始，环形进度条显示正确，响应时间<100ms | 符合预期效果 |     |
| 自定义模式 | 调整工作时间    | 计时器按设置时间运行，进度条和数字显示正确          | 符合预期效果 |     |
| 打断记录  | 暂停/重启番茄钟  | 计时器正确暂停和重启，记录打断次数              | 符合预期效果 |     |

#### 3.1.3 白噪音模块测试

| 测试项   | 测试步骤                | 预期结果           | 实际结果   | 备注  |
| ----- | ------------------- | -------------- | ------ | --- |
| 环境音播放 | 选择不同环境音（雨声/海浪/咖啡店等） | 声音播放正常，延迟<50ms | 符合预期效果 |     |
| 混音控制  | 调整音量滑块（0-100%）和开关   | 音量变化正确，混音效果正常  | 符合预期效果 |     |

#### 3.1.4 任务管理模块测试

| 测试项   | 测试步骤           | 预期结果                    | 实际结果   | 备注       |
| ----- | -------------- | ----------------------- | ------ | -------- |
| 任务操作  | 添加、重命名、删除、修改任务 | 任务操作响应时间<200ms，数据正确保存   | 符合预期效果 |          |
| 甘特图显示 | 切换时间刻度（年、月、日）  | 甘特图正确显示任务时间轴，渲染时间<500ms | 未测试    | 此功能尚在开发中 |

#### 3.1.5 便签模块测试

| 测试项  | 测试步骤         | 预期结果           | 实际结果   | 备注  |
| ---- | ------------ | -------------- | ------ | --- |
| 文本输入 | 输入中英文字符、标点符号 | 文本显示正确，支持换行和缩进 | 符合预期效果 |     |
| 数据保存 | 关闭并重新打开便签    | 便签内容正确保存并恢复    | 符合预期效果 |     |

#### 3.1.6 统计模块测试

| 测试项   | 测试步骤           | 预期结果                   | 实际结果   | 备注       |
| ----- | -------------- | ---------------------- | ------ | -------- |
| 数据可视化 | 查看今日/本月/全部统计数据 | 折线图和热力图显示正确，渲染时间<500ms | 符合预期效果 |          |

#### 3.1.7 设置模块测试

| 测试项  | 测试步骤             | 预期结果                     | 实际结果   | 备注  |
| ---- | ---------------- | ------------------------ | ------ | --- |
| 主题设置 | 切换深色/浅色模式，自定义主题色 | 主题切换正确，界面风格一致            | 符合预期效果 |     |
| 数据管理 | 导出/导入数据库         | 数据正确导出为JSON格式，导入时校验数据完整性 | 符合预期效果 |     |

### 3.2 性能测试

#### 3.2.1 响应速度测试

| 测试项      | 测试步骤       | 预期结果              | 实际结果   | 备注  |
| -------- | ---------- | ----------------- | ------ | --- |
| 番茄钟启动/暂停 | 多次启动和暂停番茄钟 | 响应时间<100ms        | 符合预期效果 |     |
| 白噪音播放    | 同时播放多个音源   | 延迟<50ms，CPU占用率<5% | 符合预期效果 |     |

#### 3.2.2 内存占用测试

| 测试项  | 测试步骤          | 预期结果       | 实际结果   | 备注  |
| ---- | ------------- | ---------- | ------ | --- |
| 基础内存 | 启动软件，不执行任何操作  | 内存占用<150MB | 符合预期效果 |     |
| 峰值内存 | 播放白噪音+加载大型甘特图 | 内存占用<350MB | 符合预期效果 |     |

#### 3.2.3 数据库性能测试

| 测试项  | 测试步骤       | 预期结果      | 实际结果   | 备注  |
| ---- | ---------- | --------- | ------ | --- |
| 插入记录 | 插入单条番茄钟记录  | 响应时间<10ms | 符合预期效果 |     |
| 查询记录 | 查询100条任务记录 | 响应时间<50ms | 符合预期效果 |     |

### 3.3 用户体验测试

| 测试项   | 测试步骤                | 预期结果        | 实际结果   | 备注  |
| ----- | ------------------- | ----------- | ------ | --- |
| 界面美观性 | 检查界面配色、字体、布局        | 界面整洁有序，风格统一 | 符合预期效果 |     |
| 操作便捷性 | 执行常用操作（如添加任务、启动番茄钟） | 操作流畅，无需额外指引 | 符合预期效果 |     |
## 5. 附录

### 5.1 测试工具

-  控制台测试工具：自行开发的数据库模拟用户数据写入程序    
- 性能监控工具：Windows任务管理器、Visual Studio诊断工具


### 5.2 测试数据

- 番茄钟记录：100条
- 任务数据：50条
- 白噪音配置：12种环境音
## 4. 测试结果与缺陷管理

### 4.1 缺陷记录

| 缺陷ID | 缺陷描述                      | 严重程度 | 优先级 | 状态  | 解决方案                      |
| ---- | ------------------------- | ---- | --- | --- | ------------------------- |
| 001  | 软件运行时存在偶发的崩溃退出现象          | 高    | 高   | 修复中 | 对关键代码进行审查，完善异常处理机制        |
| 002  | 软件自启动不成功                  | 中    | 中   | 已修复 | 查看系统注册表及启动项管理，处理拦截情况      |
| 003  | “定时打卡”模块未拦截终点早于起点的用户错误设置  | 低    | 低   | 已修复 | 添加判断逻辑，错误设置时锁定保存按钮并给出提示信息 |
| 004  | 软件在部分用户的设备上存在控件尺寸和定位不准确情况 | 中    | 中   | 待修复 | 优化UI定位方式，实现响应式布局          |


### 4.2 测试结论

根据测试结果，软件功能基本符合需求说明书的要求，部分性能指标和用户体验细节需进一步优化。