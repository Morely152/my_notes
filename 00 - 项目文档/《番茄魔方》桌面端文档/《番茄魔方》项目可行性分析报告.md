___
# 一、项目名称

《番茄魔方》时间管理工具

___
# 二、问题背景分析

无论是在学习还是在工作时，我们都或许无法避免地需要长时间保持坐姿和看各种屏幕，这对我们的健康带来一定的威胁。一项研究发现，每天久坐超过6小时的人，其死亡风险比每天久坐少于3小时的人高出40%。同时，长时间使用电子设备的青少年，其近视发病率显著高于使用时间较短的青少年。不仅如此，许多上班族都饱受颈椎病和腰椎病的困扰，这与他们长时间久坐和不良坐姿密切相关。将工作时间分割为25分钟的专注时段和5分钟的短暂休息，使用“番茄工作法”不仅有助于保持高度集中的注意力，还能有效缓解长时间工作和学习带来的身体和视觉疲劳。此外，定时休息和完成任务带来的成就感可以增强工作动力，改善时间管理能力，从而帮助我们更高效地完成工作，同时保持身心健康。
为了让我们的劳逸占比尽量科学健康，我们计划开发一款时间管理工具《番茄魔方》，提供精确的定时服务和提醒功能，同时提供较为专业的任务管理工具，帮助我们更高效、健康地完成学习和工作中的任务。同时，为了减少周围环境中干扰，还可以在软件中添加白噪音播放器的功能，提供定制化的白噪音虚拟环境，帮助我们提高专注度和工作、学习的效率。

___
# 三、开发技术可行性分析

### **1. 核心框架**

- **WPF（Windows Presentation Foundation）**
    - WPF是微软专为Windows平台设计的高性能UI框架，支持丰富的动画、数据绑定和自定义控件开发，完全满足项目对复杂界面（如甘特图、进度条）的需求。采用XAML构建前端，C#构建后端的前后端分离开发模式，可提高性能和扩展性。
### **2. 功能模块技术匹配**
#### **（1）番茄钟模块**
- **计时器功能**：通过`DispatcherTimer`实现倒计时逻辑，结合`Path`或`Ellipse`控件动态绘制环形进度条。
- **状态管理**：使用WPF的依赖属性和数据绑定同步界面与后台逻辑，将操作记录直接写入SQLite数据库。

#### **（2）白噪音模块（基于NAudio）**
- **音频播放与混音**：使用NAudio实现多音轨混合播放，从而达到多种声音混合播放的效果，同时通过`WaveChannel32`调整独立音轨音量，从而实现白噪音的定制化服务，为用户提供多样化的虚拟氛围。

#### **（3）任务管理模块**
- 组件化的时间管理工具集
	- 早起挑战：设置每天起床的时间段，通过打卡记录坚持情况。
	- 正计日/倒计日：提供精确到天的日程安排及提醒服务。
	- 打卡：对日常任务进行打卡管理，防止遗漏事物。
- **任务管理列表**
    - 使用`List-view`控件实现列表渲染
    - 任务状态颜色根据任务进度自动计算实现。
    - 若需复杂交互，可集成第三方库（如`LiveCharts`的图形扩展）。

#### **（4）便签模块**
- **文本输入**：WPF的`TextBox`原生支持多行输入、换行和缩进，通过`AcceptsReturn`和`AcceptsTab`属性控制行为。
- 使用C#中的StreamReader 和 StreamWriter 实现将便签的内容及时存储到txt文件，并在软件启动时从文件中读取并加载到TextBox中，实现便签内容持久化存储。

#### **（5）统计模块**
- **数据可视化**：
    - 折线图/柱状图：采用`LiveCharts`或`OxyPlot`库，支持动态数据绑定与交互。
    - 热力图：通过自定义`Grid`布局结合颜色渐变实现。
- 周报生成：可通过调用AI API进行总结分析和生活建议，生成png或pdf格式周报
	- **AI服务**：OpenAI API/Azure Cognitive Services(调用API实现)
	- **图表生成**：LiveCharts v2
	- **PDF生成**：iTextSharp或SelectPdf

#### **（6）设置模块**
- **主题切换**：通过动态加载资源字典（`ResourceDictionary`）实现主题色的修改和实时响应。
- **开机启动**：通过修改注册表或创建启动文件夹快捷方式实现。

### **3. 数据存储与安全**

- **SQLite3**：使用轻量级嵌入式数据库，通过`System.Data.SQLite`库集成，支持事务操作与复杂查询。
- **数据加密**：若需增强安全性，可集成SQLCipher扩展加密数据库文件。
