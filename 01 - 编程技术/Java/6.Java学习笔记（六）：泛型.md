---

---
--- 
> å£°æ˜ï¼šæœ¬ç¯‡ç¬”è®°éƒ¨åˆ†æ‘˜è‡ª[ã€ŠJavaæ ¸å¿ƒæŠ€æœ¯ï¼ˆå·â… ï¼‰ - æœºæ¢°å·¥ä¸šå‡ºç‰ˆç¤¾ã€‹](https://detail.tmall.com/item.htm?ali_refid=a3_420434_1006%3A1151895243%3AN%3AoB1xLXSDdjSpCunkFwpZbCtvD%2B6YEaA9%3A39f8fcdda956d1ec63523e9a6e9e2355&id=708821240842&mi_id=0000mg2-P7Ustbzeym2_6DxuUMLCpndkVCAGc5EaA_l8QQ0&mm_sceneid=1_0_128421313_0&priceTId=2147831a17554253371677975e1dca&spm=a21n57.1.hoverItem.2&utparam=%7B%22aplus_abtest%22%3A%226b956865e0df43cd4a6620880d877f11%22%7D&xxc=ad_ztc)åŠ[Javaæ•™ç¨‹-å»–é›ªå³°-2025-06-16](https://liaoxuefeng.com/books/java/introduction/index.html)ï¼Œéµå¾ª[CC BY 4.0åè®®](https://creativecommons.org/licenses/by/4.0/legalcode.zh-hans)ã€‚
> å­˜åœ¨ç”±AIç”Ÿæˆçš„å°éƒ¨åˆ†å†…å®¹ï¼Œä»…ä¾›å‚è€ƒï¼Œè¯·ä»”ç»†ç”„åˆ«å¯èƒ½å­˜åœ¨çš„é”™è¯¯ã€‚

# ä¸€ã€å¼•å…¥

è€ƒè™‘è¿™æ ·ä¸€ä¸ªéœ€æ±‚ï¼šå®ç°ä¸€ä¸ªæ–¹æ³•ï¼ŒåŸå°ä¸åŠ¨åœ°è¿”å›è¾“å…¥çš„å‚æ•°ï¼Œå®ç°ç±»ä¼¼äº`echo`çš„æ•ˆæœã€‚

æœ‰åŒå­¦è¯´ï¼Œè¿™è¿˜ä¸ç®€å•ï¼š

```java
public class Demo {  
    public static void main(String[] args) {  
        System.out.println(  
			echo("Hello World!")  
        );  
    }  
  
    private static String echo(String s) {  
        return s;  
    }  
  
}

// è¿è¡Œç»“æœï¼šHello World!
```

è¿™ä¹ˆçœ‹ä¼¼ä¹æ²¡å¾—é—®é¢˜ï¼ŒJVMä¹Ÿè¿è¡Œå‡ºäº†æ­£ç¡®çš„ç»“æœï¼Œä½†æ˜¯æˆ‘ä»¬ä¼¼ä¹å¿½ç•¥äº†ä¸€äº›é—®é¢˜ï¼š

```java
System.out.printf(  
	"%s + %s = %s", echo("1"), echo("1"), echo(1+1)  
);  
```

é¢„æœŸä¼šå¾—åˆ°`1 + 1 = 2`çš„è¾“å‡ºï¼Œä½†ç†æƒ³å¾ˆç¾æ»¡ï¼Œç°å®å´æ˜¯è¾“å‡ºäº†`java: ä¸å…¼å®¹çš„ç±»å‹: intæ— æ³•è½¬æ¢ä¸ºjava.lang.String`ã€‚åŸå› åœ¨ä¸æˆ‘ä»¬å®šä¹‰æ–¹æ³•æ—¶å›ºå®šäº†å‚æ•°å’Œè¿”å›å€¼çš„ç±»å‹å‡ä¸º`String`ï¼Œè€Œä¸Šä¾‹ä¸­`echo(1+1)`ä¼ å…¥çš„å‚æ•°ç±»å‹ä¸å¯¹ï¼Œå› æ­¤è§¦å‘äº†å¼‚å¸¸ã€‚

åˆæœ‰åŒå­¦è¯´äº†ï¼Œä½¿ç”¨æ–¹æ³•é‡è½½å•Šï¼Œå†å®šä¹‰ä¸€ä¸ª`int echo(int i) {}`ä¸å°±è¡Œäº†å—ï¼Ÿä½†æ˜¯æˆ‘ä»¬è¿˜æœ‰`double`ã€`float`ã€`boolean`è¿™äº›æ•°æ®ç±»å‹å‘¢ï¼Œæ›´æç«¯åœ°è¯´ï¼Œå¦‚æœè¾“å…¥çš„æ˜¯ä¸€ä¸ªç±»çš„å®ä¾‹å‘¢ï¼Ÿ

æ˜¾ç„¶æˆ‘ä»¬æ— æ³•é¢„æµ‹ç¨‹åºè¿è¡Œæ—¶ï¼Œä¼šä¼ å…¥å“ªäº›ç±»å‹çš„æ•°æ®ã€‚ä¸ºæ¯ä¸€ç§æ•°æ®ç±»å‹éƒ½é‡è½½ä¸€ä¸ªæ–¹æ³•æ˜¾ç„¶æ˜¯ä¸ç†æ™ºçš„é€‰æ‹©ï¼ˆä¸Šç­æ‘¸é±¼å½“æˆ‘æ²¡è¯´ï¼Œå‰ææ˜¯å†™å‡ºè¿™æ ·çš„ä»£ç ä¸ä¼šè¢«è¿½ç€éª‚ğŸ¤”ï¼‰ï¼Œä½†æ˜¯å¦‚æœä¸å†™å…¨åˆä¼šæ‰¾ä¸åˆ°åˆé€‚çš„æ–¹æ³•æ¥æ‰§è¡Œï¼Œä¼šæŠ¥å‘Šç±»å‹é”™è¯¯ã€‚é‚£æˆ‘ä»¬èƒ½å¦**å°†ç±»å‹ä¹Ÿçœ‹ä½œæ˜¯ä¸€ç§ä¸å®šçš„â€œå˜é‡â€**ï¼Œéšç€å‚æ•°ä¸€åŒä¼ å…¥æ–¹æ³•ä¸­ï¼Œç„¶åè¿™ä¸ªæ–¹æ³•å†**æ ¹æ®å‚æ•°çš„ç±»å‹å†³å®šè¿”å›ä»€ä¹ˆç±»å‹çš„æ•°æ®**å‘¢ï¼Ÿ

æ­å–œæˆ‘ä»¬æ¢ç´¢å‡ºäº†ä¸€ä¸ªå¾ˆæœ‰ç”¨çš„å·¥å…·â€”â€”**æ³›å‹**ï¼ˆGenericsï¼‰ï¼š

```java
private static <Type> Type echo(Type parameter) {  
    return parameter;  
}
```

å­—å¦‚å…¶åï¼Œæ³›å‹å³**å¹¿æ³›çš„ç±»å‹**ï¼Œæˆ‘ä»¬å¯ä»¥é€šè¿‡æ³›å‹æ¥å°†å‚æ•°çš„ç±»å‹ä½œä¸ºå‚æ•°çš„ä¸€éƒ¨åˆ†ä¼ å…¥æ–¹æ³•ä¸­ï¼Œæ–¹æ³•å†…æ ¹æ®ç±»å‹æ¥è¿›è¡Œç›¸åº”çš„å¤„ç†ï¼Œç°åœ¨å†è°ƒç”¨`System.out.printf(  "%s + %s = %s", echo("1"), echo("1"), echo(1+1)  )`ï¼Œå°±å¯ä»¥é¡ºåˆ©è¾“å‡º`1 + 1 = 2`äº†ã€‚

ï¼ˆé¡ºå¸¦ä¸€æï¼Œè¿™ä¸ªä¾‹å­åœ¨æˆ‘è¯»ä¸€ä½å¤§ä½¬æ’°å†™çš„[TypeScriptå…¥é—¨æ•™ç¨‹](https://fxzer.github.io/tsdoc-vitepress/zh/handbooks/handbook-v1/Generics)æ—¶è®©æˆ‘éå¸¸é¡ºåˆ©åœ°ç†è§£äº†æ³›å‹çš„å®šä¹‰å’Œä½œç”¨ï¼Œå¯¹æˆ‘çš„å¯å‘å¾ˆå¤§ï¼Œåœ¨æˆ‘çš„Tsç¬”è®°ä¸­ä¹Ÿæœ‰ä½¿ç”¨ã€‚è¿™é‡Œä¹Ÿåˆ†äº«å‡ºæ¥ä½œä¸ºä¸€ä¸ªåˆè¯†æ¦‚å¿µçš„å¼•å­ï¼Œå¸Œæœ›å¤§å®¶ä»¥åé‡åˆ°ç±»ä¼¼çš„éœ€æ±‚æ—¶èƒ½å¤Ÿæƒ³èµ·æ³›å‹ï¼›æ¯•ç«Ÿé‡è¦çš„ä¸æ˜¯çœ‹æ‡‚è€Œæ˜¯ä¼šç”¨ã€‚ï¼‰

# äºŒã€æ³›å‹ç±»

ä¸Šé¢æˆ‘ä»¬å·²ç»æ¼”ç¤ºäº†æ³›å‹æ–¹æ³•çš„å®ç°ï¼Œæˆ‘ä»¬æ¥å®ç°ä¸€ä¸‹æ³›å‹ç±»ï¼š

```java
public class Demo {  
    public static void main(String[] args) {  
  
        CommonClass<String> t1 = new CommonClass<>("Hello");  
        System.out.println(t1.getField());  
  
        CommonClass<Integer> t2 = new CommonClass<>(123);  
        System.out.println(t2.getField());  
  
        CommonClass<Boolean> t3 = new CommonClass<>(true);  
        System.out.println(t3.getField());  
  
  
    }  
}  
  
class CommonClass<T> {  
    private T field;  
  
    public CommonClass(T field) {  
        this.field = field;  
    }  
  
    public T getField() {  
        return field;  
    }  
}

/* è¿è¡Œç»“æœï¼š
Hello
123
true
*/
```

ç»™`CommonClass`çš„æ„é€ æ–¹æ³•ä¼ å…¥ä¸åŒç±»å‹çš„å‚æ•°ï¼Œéƒ½å¾ˆå¥½åœ°å®ç°äº†åˆå§‹åŒ–ä¸å­—æ®µçš„è¯»å–ï¼Œè¿™å°±æ˜¯æ³›å‹çš„ä¼˜ç‚¹ï¼š**åœ¨ä¿æŒç¼–è¯‘æ—¶ç±»å‹å®‰å…¨çš„åŒæ—¶ï¼Œè·å¾—äº†ä»£ç çš„æå¤§å¤ç”¨æ€§**ã€‚

# ä¸‰ã€æ“¦æ‹­æ³•

Javaè¯­è¨€çš„æ³›å‹å®ç°æ–¹å¼æ˜¯**æ“¦æ‹­æ³•**ï¼ˆType Erasureï¼‰ã€‚ä¹Ÿå°±æ˜¯è¯´ï¼ŒJVMå…¶å®å¹¶ä¸çŸ¥é“æœ‰æ³›å‹çš„å­˜åœ¨ï¼Œç¼–è¯‘é˜¶æ®µä¼šç”±ç¼–è¯‘å™¨å°†æ³›å‹è½¬æ¢æˆå®é™…çš„ç±»å‹ã€‚

## 1.æ“¦æ‹­æ³•å¯¼è‡´çš„å±€é™

Javaçš„æ³›å‹æ˜¯ç”±ç¼–è¯‘å™¨åœ¨ç¼–è¯‘æ—¶å®è¡Œçš„ï¼Œç¼–è¯‘å™¨å†…éƒ¨æ°¸è¿œæŠŠæ‰€æœ‰ç±»å‹`T`è§†ä¸º`Object`å¤„ç†ï¼Œä½†æ˜¯ï¼Œåœ¨éœ€è¦è½¬å‹çš„æ—¶å€™ï¼Œç¼–è¯‘å™¨ä¼šæ ¹æ®`T`çš„ç±»å‹è‡ªåŠ¨ä¸ºæˆ‘ä»¬å®è¡Œå®‰å…¨åœ°å¼ºåˆ¶è½¬å‹ã€‚è¿™æ ·ä¼šä½¿å¾—Jabalpurä¸­çš„æ³›å‹å­˜åœ¨è¿™äº›å±€é™ï¼š

### â‘  å±€é™ä¸€ï¼šæ³›å‹ä¸èƒ½æ˜¯åŸºæœ¬ç±»å‹

`<T>`ä¸èƒ½æ˜¯åŸºæœ¬ç±»å‹ï¼Œä¾‹å¦‚`int`ã€`double`ï¼Œå› ä¸º`Object`ç±»å‹æ— æ³•æŒæœ‰è¿™äº›åŸºæœ¬ç±»å‹ã€‚

![](20250827032217880.png)

### â‘¡ æ— æ³•å–å¾—å¸¦æ³›å‹çš„`Class`ã€‚

å› ä¸º`T`æ˜¯`Object`ï¼Œæˆ‘ä»¬å¯¹`Pair<String>`å’Œ`Pair<Integer>`ç±»å‹è·å–`Class`æ—¶ï¼Œè·å–åˆ°çš„æ˜¯åŒä¸€ä¸ª`Class`ï¼Œä¹Ÿå°±æ˜¯`Pair`ç±»çš„`Class`ã€‚

æ¢å¥è¯è¯´ï¼Œæ‰€æœ‰æ³›å‹å®ä¾‹ï¼Œæ— è®º`T`çš„ç±»å‹æ˜¯ä»€ä¹ˆï¼Œ`getClass()`è¿”å›åŒä¸€ä¸ª`Class`å®ä¾‹ï¼Œå› ä¸ºç¼–è¯‘åå®ƒä»¬å…¨éƒ¨éƒ½æ˜¯`Pair<Object>`ã€‚

### â‘¢ æ— æ³•åˆ¤æ–­å¸¦æ³›å‹çš„ç±»å‹

```java
Pair<Integer> p = new Pair<>(123, 456);
// Compile error:
if (p instanceof Pair<String>) {
}
```

åŸå› å’Œå‰é¢ä¸€æ ·ï¼Œå¹¶ä¸å­˜åœ¨`Pair<String>.class`ï¼Œè€Œæ˜¯åªæœ‰å”¯ä¸€çš„`Pair.class`ï¼Œå³æˆ‘ä»¬æ— æ³•é€šè¿‡åå°„å¾—çŸ¥æ³›å‹ç±»çš„å‡†ç¡®æˆå‘˜ç±»å‹ã€‚

### â‘£ ä¸èƒ½å®ä¾‹åŒ–`T`ç±»å‹

```java
public class Pair<T> {
    private T first;
    private T last;
    public Pair() {
        // Compile error:
        first = new T();
        last = new T();
    }
}
```

ä¸Šè¿°ä»£ç æ— æ³•é€šè¿‡ç¼–è¯‘ï¼Œå› ä¸ºæ„é€ æ–¹æ³•çš„ä¸¤è¡Œè¯­å¥ï¼š

```java
first = new T();
last = new T();
```

æ“¦æ‹­åå®é™…ä¸Šå˜æˆäº†ï¼š

```java
first = new Object();
last = new Object();
```

è¿™æ ·ä¸€æ¥ï¼Œåˆ›å»º`new Pair<String>()`å’Œåˆ›å»º`new Pair<Integer>()`å°±å…¨éƒ¨æˆäº†`Object`ï¼Œæ˜¾ç„¶ç¼–è¯‘å™¨è¦é˜»æ­¢è¿™ç§ç±»å‹ä¸å¯¹çš„ä»£ç ã€‚

è¦å®ä¾‹åŒ–`T`ç±»å‹ï¼Œæˆ‘ä»¬å¿…é¡»å€ŸåŠ©é¢å¤–çš„`Class<T>`å‚æ•°ï¼š

```java
public class Pair<T> {
    private T first;
    private T last;
    public Pair(Class<T> clazz) {
        first = clazz.newInstance();
        last = clazz.newInstance();
    }
}
```

ä¸Šè¿°ä»£ç å€ŸåŠ©`Class<T>`å‚æ•°å¹¶é€šè¿‡åå°„æ¥å®ä¾‹åŒ–`T`ç±»å‹ï¼Œä½¿ç”¨çš„æ—¶å€™ï¼Œä¹Ÿå¿…é¡»ä¼ å…¥`Class<T>`ã€‚ä¾‹å¦‚ï¼š

```java
Pair<String> pair = new Pair<>(String.class);
```

å› ä¸ºä¼ å…¥äº†`Class<String>`çš„å®ä¾‹ï¼Œæ‰€ä»¥æˆ‘ä»¬å€ŸåŠ©`String.class`å°±å¯ä»¥å®ä¾‹åŒ–`String`ç±»å‹ã€‚

## 2.æ³›å‹æ–¹æ³•çš„è¦†å†™

```java
public class Pair<T> {
    public boolean equals(T t) {
        return this == t;
    }
}
```

å¯¹`wquals()`æ–¹æ³•è¿›è¡Œè¿™æ ·çš„è¦†å†™ï¼Œä¼šæ— æ³•é€šè¿‡ç¼–è¯‘ã€‚åŸå› æ˜¯è¿™æ ·çš„å®šä¹‰ä¼šè¢«æ“¦æ‹­æˆ`equals(Object t)`ï¼Œè¿™ä¸ªæ–¹æ³•ä¹Ÿæ˜¯ç»§æ‰¿è‡ª`Object`ï¼Œè¿™æ ·å°±ä¼šä¸çˆ¶ç±»æ–¹æ³•çš„ç­¾åç›¸åŒï¼Œå°±å¯¼è‡´äº†**å­ç±»çš„æ³›å‹æ–¹æ³•æ— æ„ä¸­è¦†å†™äº†çˆ¶ç±»çš„éæ³›å‹æ–¹æ³•**ï¼Œä¼šè¢«ç¼–è¯‘å™¨é˜»æ­¢ã€‚

è¦è§£å†³è¿™ä¸ªé—®é¢˜ï¼Œåªéœ€ä¿®æ”¹æ–¹æ³•åï¼Œä¸è¦ä½¿å¾—å‡ºç°è¦†å†™çš„æƒ…å†µå³å¯ï¼š

```java
public class Pair<T> {
    public boolean sameTo(T t) {
        return this == t;
    }
}
```

# å››ã€extendsé€šé…ç¬¦

```java
import java.util.ArrayList;  
import java.util.List;  
  
public class Demo {  
    public static void main(String[] args) {  
  
        List<Dog> dogs = new ArrayList<>();  
        List<Animal> animals = dogs;  
  
  
    }  
}  
  
class Dog{ }  
class Animal{ }
```

è¿™æ ·çœ‹ä¼¼ä¹æ²¡é—®é¢˜ï¼Œå…ˆæ˜¯å®šä¹‰äº†ä¸€ä¸ª`Dog`ç±»å‹çš„å¯å˜æ•°ç»„ï¼Œç„¶åå°†å…¶èµ‹å€¼ç»™`Anumal`ç±»å‹çš„å¯å˜æ•°ç»„ï¼›ä½†æ˜¯ç¼–è¯‘å™¨ä¼šåœ¨ç¬¬äºŒè¡ŒæŠ¥å‘Š`java: ä¸å…¼å®¹çš„ç±»å‹: java.util.List<Dog>æ— æ³•è½¬æ¢ä¸ºjava.util.List<Animal>`çš„é”™è¯¯ã€‚

æ³›å‹æ˜¯ä¸å˜ï¼ˆInvariantï¼‰çš„ã€‚è¿™æ„å‘³ç€å³ä½¿Â `Dog`Â æ˜¯Â `Animal`Â çš„å­ç±»ï¼Œ`List<Dog>`Â ä¹Ÿ**ä¸æ˜¯**Â `List<Animal>`Â çš„å­ç±»ï¼Œå› æ­¤æ— æ³•å®ç°é¢„æœŸçš„â€œå‘ä¸Šè½¬å‹â€æ“ä½œã€‚

è€ƒè™‘ä½¿ç”¨`extends`é€šé…ç¬¦ï¼š`<? extends T>`Â è¡¨ç¤ºâ€œ**æœªçŸ¥çš„æŸç§ç±»å‹ï¼Œä½†å®ƒå¿…é¡»æ˜¯Â `T`Â æˆ–å…¶å­ç±»å‹**â€ã€‚å®ƒè®©ä½ èƒ½å¤Ÿ**å®‰å…¨åœ°ä»æ³›å‹å¯¹è±¡ä¸­è¯»å–ï¼ˆgetï¼‰**ï¼Œä½†**ä¸èƒ½å®‰å…¨åœ°å‘å…¶ä¸­å†™å…¥ï¼ˆsetï¼‰**ï¼ˆé™¤äº†`null`ï¼‰ã€‚ä¸‹é¢æ˜¯ä¸€ä¸ªä¾‹å­ï¼š

```java
import java.util.ArrayList;  
import java.util.List;  
  
public class Demo {  
    public static void main(String[] args) {  
  
        List<Animal> animalList = new ArrayList<>();  
        animalList.add(new Animal());  
        processAnimals(animalList);  
  
        List<Dog> dogList = new ArrayList<>();  
        dogList.add(new Dog());  
        processAnimals(dogList);  
  
        List<Cat> catList = new ArrayList<>();  
        catList.add(new Cat());  
        processAnimals(catList);  
  
        List<TinyDog> tinyDogList = new ArrayList<>(); 
        tinyDogList.add(new TinyDog());  
        processAnimals(tinyDogList);  
          
    }  
  
    public static void processAnimals(List<? extends Animal> animals) {  
        // ç°åœ¨è¿™ä¸ªæ–¹æ³•å¯ä»¥å®‰å…¨åœ°æ¥å—ä»»ä½• Animal å­ç±»çš„åˆ—è¡¨  
        for (Animal a : animals) {  
            a.makeSound();  
        }  
    }  
}  
  
class Animal{  
    public void makeSound() {  
        System.out.println("è¿™åªåŠ¨ç‰©å‘å‡ºäº†ä¸€äº›åŠ¨é™ã€‚");  
    }  
}  
class Dog extends Animal{  
    public void makeSound() {  
        System.out.println("ç‹—ï¼šæ±ªæ±ªï¼");  
    }  
}  
  
class Cat extends Animal{  
    public void makeSound() {  
        System.out.println("çŒ«ï¼šå–µ~");  
    }  
}  
  
class TinyDog extends Dog{  
    public void makeSound() {  
        System.out.println("å°ç‹—ï¼šå—·ï¼");  
    }  
}

/* è¿è¡Œç»“æœï¼š
è¿™åªåŠ¨ç‰©å‘å‡ºäº†ä¸€äº›åŠ¨é™ã€‚
ç‹—ï¼šæ±ªæ±ªï¼
çŒ«ï¼šå–µ~
å°ç‹—ï¼šå—·ï¼
*/
```

éœ€è¦æ³¨æ„çš„æ˜¯ï¼Œ`extends`Â é€šé…ç¬¦å¹¶ä¸è§£å†³â€œå°†ä¸€ä¸ªåˆ—è¡¨èµ‹å€¼ç»™å¦ä¸€ä¸ªä¸åŒç±»å‹çš„å¼•ç”¨â€çš„é—®é¢˜ï¼Œè€Œæ˜¯è§£å†³**ç¼–å†™ä¸€ä¸ªæ–¹æ³•ï¼Œè¯¥æ–¹æ³•èƒ½æ¥å—å¤šç§æ³›å‹ç±»å‹çš„å‚æ•°**çš„é—®é¢˜ã€‚å…¶æ¬¡æ˜¯ï¼Œè¿™æ ·åªèƒ½è·å–ç±»åˆ—è¡¨ä¸­çš„å…ƒç´ ï¼Œæ— æ³•è¿›è¡Œå†™å…¥æ“ä½œï¼Œç›¸å½“äºæ˜¯åªè¯»çš„ã€‚

# äº”ã€superé€šé…ç¬¦

ç±»ä¼¼åœ°ï¼Œè™½ç„¶`Integer`æ˜¯`Number`çš„å­ç±»ï¼Œä½†æ˜¯`Pair<Integer>`ä¸æ˜¯`Pair<Number>`çš„å­ç±»ã€‚

```java
void set(Pair<Integer> p, Integer first, Integer last) {
    p.setFirst(first);
    p.setLast(last);
}
```

åœ¨ä¸Šé¢çš„æ–¹æ³•ä¸­ï¼Œä¼ å…¥`Pair<Number>`æ˜¯ä¸å…è®¸çš„ã€‚æˆ‘ä»¬å¸Œæœ›èƒ½å¤Ÿæ¥å—ä¼ å…¥`Pair<Integer>`ç±»å‹ï¼Œä»¥åŠ`Pair<Number>`ã€`Pair<Object>`ï¼Œå› ä¸º`Number`å’Œ`Object`æ˜¯`Integer`çš„çˆ¶ç±»ï¼Œ`setFirst(Number)`å’Œ`setFirst(Object)`å®é™…ä¸Šå…è®¸æ¥å—`Integer`ç±»å‹ã€‚

è¿™æ—¶éœ€è¦ä½¿ç”¨`super`æ–¹æ³•ï¼š

```java
void set(Pair<? super Integer> p, Integer first, Integer last) {
    p.setFirst(first);
    p.setLast(last);
}
```

æ³¨æ„åˆ°`Pair<? super Integer>`è¡¨ç¤ºï¼Œæ–¹æ³•å‚æ•°æ¥å—æ‰€æœ‰æ³›å‹ç±»å‹ä¸º`Integer`æˆ–`Integer`çˆ¶ç±»çš„`Pair`ç±»å‹ã€‚

## å¯¹æ¯”extendså’Œsuperé€šé…ç¬¦

æˆ‘ä»¬å†å›é¡¾ä¸€ä¸‹`extends`é€šé…ç¬¦ã€‚ä½œä¸ºæ–¹æ³•å‚æ•°ï¼Œ`<? extends T>`ç±»å‹å’Œ`<? super T>`ç±»å‹çš„åŒºåˆ«åœ¨äºï¼š

- `<? extends T>`å…è®¸è°ƒç”¨è¯»æ–¹æ³•`T get()`è·å–`T`çš„å¼•ç”¨ï¼Œä½†ä¸å…è®¸è°ƒç”¨å†™æ–¹æ³•`set(T)`ä¼ å…¥`T`çš„å¼•ç”¨ï¼ˆä¼ å…¥`null`é™¤å¤–ï¼‰ï¼›
- `<? super T>`å…è®¸è°ƒç”¨å†™æ–¹æ³•`set(T)`ä¼ å…¥`T`çš„å¼•ç”¨ï¼Œä½†ä¸å…è®¸è°ƒç”¨è¯»æ–¹æ³•`T get()`è·å–`T`çš„å¼•ç”¨ï¼ˆè·å–`Object`é™¤å¤–ï¼‰ã€‚

ä¸€ä¸ªæ˜¯å…è®¸è¯»ä¸å…è®¸å†™ï¼Œå¦ä¸€ä¸ªæ˜¯å…è®¸å†™ä¸å…è®¸è¯»ã€‚

## PECSåŸåˆ™ï¼šä½•æ—¶ä½¿ç”¨å“ªä¸€ä¸­é€šé…ç¬¦ï¼Ÿ

ä¸ºäº†ä¾¿äºè®°å¿†ï¼Œæˆ‘ä»¬å¯ä»¥ç”¨PECSåŸåˆ™ï¼šProducer Extends Consumer Superã€‚å³ï¼š

- å¦‚æœéœ€è¦è¿”å›`T`ï¼Œå®ƒæ˜¯ç”Ÿäº§è€…ï¼ˆProducerï¼‰ï¼Œè¦ä½¿ç”¨`extends`é€šé…ç¬¦ï¼›
- å¦‚æœéœ€è¦å†™å…¥`T`ï¼Œå®ƒæ˜¯æ¶ˆè´¹è€…ï¼ˆConsumerï¼‰ï¼Œè¦ä½¿ç”¨`super`é€šé…ç¬¦ã€‚

## æ— é™å®šé€šé…ç¬¦

æˆ‘ä»¬å·²ç»è®¨è®ºäº†`<? extends T>`å’Œ`<? super T>`ä½œä¸ºæ–¹æ³•å‚æ•°çš„ä½œç”¨ã€‚å®é™…ä¸Šï¼ŒJavaçš„æ³›å‹è¿˜å…è®¸ä½¿ç”¨æ— é™å®šé€šé…ç¬¦ï¼ˆUnbounded Wildcard Typeï¼‰ï¼Œå³åªå®šä¹‰ä¸€ä¸ª`?`ï¼š

```java
void sample(Pair<?> p) {
}
```

å› ä¸º`<?>`é€šé…ç¬¦æ—¢æ²¡æœ‰`extends`ï¼Œä¹Ÿæ²¡æœ‰`super`ï¼Œå› æ­¤ï¼š

- ä¸å…è®¸è°ƒç”¨`set(T)`æ–¹æ³•å¹¶ä¼ å…¥å¼•ç”¨ï¼ˆ`null`é™¤å¤–ï¼‰ï¼›
- ä¸å…è®¸è°ƒç”¨`T get()`æ–¹æ³•å¹¶è·å–`T`å¼•ç”¨ï¼ˆåªèƒ½è·å–`Object`å¼•ç”¨ï¼‰ã€‚

æ¢å¥è¯è¯´ï¼Œæ—¢ä¸èƒ½è¯»ï¼Œä¹Ÿä¸èƒ½å†™ï¼Œé‚£åªèƒ½åšä¸€äº›`null`çš„åˆ¤æ–­ã€‚

--- 
# å‚è€ƒèµ„æ–™

[^1]: å»–é›ªå³°çš„å®˜æ–¹ç½‘ç«™.Javaæ•™ç¨‹\[EB/OL].(2025-06-07)\[2025-08-21]. https://www.cnblogs.com/echolun/p/12709761.html